@model DataViewModel
@{
    int incomeIndex = 0;
    int expenseIndex = 0;


    <table id="example" class="table display">
        <thead>
            <tr>
                <th>Category</th>
                @foreach (var month in Model.MonthList)
                {
                    <th>@month</th>
                }
                <th>Delete</th>
            </tr>
        </thead>

        <tbody>
            <!--------------- income inputs------------------------>
            @foreach (var income in Model.IncomeCategoryList)
            {
                <tr>
                    <td><input type="text" placeholder="Enter Income" value="@income.CatgeoryName"
                            data-incomeindex="@incomeIndex" class="IncomeName inputClass"  @(income.CatgeoryName == "" ? "": "disabled" )></td>
                    @for (int i = 0; i < Model.MonthList.Count; i++)
                    {
                        <td><input type="number" value="@income.Amount[i]" class="IncomeInput inputClass" data-month="@i"
                                data-incomeindex="@incomeIndex"></td>
                    }
                    <td><i class="bi bi-trash text-danger deletedata" data-index="@incomeIndex" data-isincome="true"></i>
                    </td>
                </tr>
                incomeIndex++;
            }

            <!--------------------- TOtal income---------------------------->
            <tr>
                <td class="fw-bold">Total Income</td>
                @foreach (var income in Model.TotalIncome)
                {
                    <td><input type="text" value="@income" disabled class="TotalIncome"></td>
                }
                <td></td>
            </tr>

            <!---------------------- expense ------------------>
            <tr>
                <td class="fw-bold">Expense</td>
                <td colspan="@(Model.MonthList.Count + 1)"></td>
            </tr>

            <!-----------------------  expense inputs----------------->
            @foreach (var Expense in Model.ExpenseCategoryList)
            {
                <tr>
                    <td><input type="text" placeholder="Enter Expense" class="ExpenseName inputClass"
                            value="@Expense.CatgeoryName" data-expenseindex="@expenseIndex" @(Expense.CatgeoryName == "" ? "": "disabled" )></td>
                    @for (int i = 0; i < Model.MonthList.Count; i++)
                    {
                        <td><input type="number" value="@Expense.Amount[i]" class="ExpenseInput inputClass" data-month="@i"
                                data-expenseindex="@expenseIndex"></td>
                    }
                    <td><i class="bi bi-trash text-danger deletedata" data-index="@expenseIndex" data-isincome="false"></i>
                    </td>
                </tr>
                expenseIndex++;
            }

            <!----------------------- total expense ----------------->
            <tr>
                <td class="fw-bold">Total Expense</td>
                @foreach (var expense in Model.TotalExpense)
                {
                    <td><input type="text" value="@expense" disabled class="TotalExpense"></td>
                }
                <td></td>
            </tr>
            <!-----------------------  summary title----------------->
            <tr>
                <td class="fw-bold">Summary</td>
                <td colspan="@(Model.MonthList.Count + 1)"></td>
            </tr>
            <!-----------------------  Profit/Loss<---------------->
            <tr>
                <td class="fw-bold">Profit/Loss</td>
                @foreach (var profit in Model.ProfitLoss)
                {
                    <td><input type="text" value="@profit" disabled class="ProfitLoss"></td>
                }
                <td></td>
            </tr>

            <!----------------------- Opening Balance----------------->
            <tr>
                <td class="fw-bold">Opening Balance</td>
                @foreach (var OpeningBalance in Model.OpeningBalance)
                {
                    <td><input type="text" value="@OpeningBalance" disabled class="OpeningBalance"></td>
                }
                <td></td>
            </tr>

            <!-----------------------Closing Balance----------------->
            <tr>
                <td class="fw-bold">Closing Balance</td>
                @foreach (var ClosingBalance in Model.ClosingBalance)
                {
                    <td><input type="text" value="@ClosingBalance" disabled class="ClosingBalance"></td>
                }
                <td></td>
            </tr>

        </tbody>
    </table>
}


<script>
    $(document).ready(function () {
        var datasheetVM = @Html.Raw(Json.Serialize(Model));
        DatasheetData(datasheetVM);
    })
</script>